## MOM6 parameter choices

### Horizontal grid

The 25km global configuration uses a tripolar grid to avoid a singularity at the North Pole. The domain is zonally periodic `REENTRANT_X = True` and open at the north via a tripolar fold `TRIPOLAR_N = True` while closed in the south `REENTRANT_Y = False`. The horizontal grid has `1440x1142` tracer points. This matches the resolution of prior models (eg, ACCESS-OM2-025 and GFDL OM4/OM5) and provides eddy-permitting detail in the ocean while maintaining numerical stability.

### Vertical resolution and ALE coordinate
The current configuration uses 75 vertical layers (`NK=75`) with an arbitrary Lagrangian Euler (`ALE`) vertical coordinate scheme. The ALE scheme is enabled by `USE_REGRIDDING = True` (activating the “split-explicit” layered/reegridding algorithm). Rather than fixed z-levels, MOM6 can operate in a hybrid vertical coordinate mode. The current configuration uses a stretched $z^*$ vertical coordinate `REGRIDDING_COORDINATE_MODE = "ZSTAR"`. The vertical grid spacing is specified via an input file (`ALE_COORDINATE_CONFIG = "FILE:ocean_vgrid.nc,interfaces=zeta"`). The deepest ocean depth is set to `MAXIMUM_DEPTH = 6000.0` and partial bottom cells are effectively used by `ALE`. Gravitational acceleration (`G_EARTH = 9.8`) and reference density (`RHO_0 = 1035`) are set to standard values, consistent with `BOUSSINESQ = True`. The Boussinesq setup means density variations only affect buoyancy, not total mass. In our configuration, sea level is computed assuming a reference density (here using the fixed reference density for sea-level calc since `CALC_RHO_FOR_SEA_LEVEL = False`).

### Thermodynamics and Equation of State (TEOS-10)
The current configuration uses `EQN_OF_STATE = "ROQUET_RHO"` for seawater, which refers to the polynomial fit of the `TEOS-10` equation of state by [@roquet2015accurate]. [`ROQUET_RHO`](<https://mom6.readthedocs.io/en/main/api/generated/pages/Equation_of_State.html#:~:text=in%20situ%20temperature).-,ROQUET_RHO%20Equation%20of%20State,-%C2%B6>) uses a 75-term polynomial to compute in-situ density as a function of conservative temperature and absolute salinity (`USE_CONTEMP_ABSSAL = True`), closely approximating the full TEOS-10 results. However, the cold-start initial conditions in our configuration use an inconsistent temperature–salinity pair - specifically, conservative temperature combined with practical salinity (see [issues/235](https://github.com/ACCESS-NRI/access-om3-configs/issues/235)). 

The `_RHO` variant specifically fits density rather than specific volume, ideal for layered models and ensuring that neutral density calculations are precise. The configuration also sets the freezing point formulation to `TFREEZE_FORM = "TEOS_POLY"`, indicating the model computes the seawater freezing temperature with a [TEOS-10](https://www.nco.ncep.noaa.gov/pmb/codes/nwprod/hafs.v2.0.8/sorc/hafs_forecast.fd/MOM6-interface/MOM6/src/equation_of_state/_Equation_of_State.dox#:~:text=This%20one%20or%0ATEOS_poly%20must%20be%20used%20if%20you%20are%20using%20the%20ROQUET_RHO%2C%20ROQUET_SPV%20or%20TEOS%2D10%0Aequation%20of%20state.). More relevant discussions or notes can be found in [TWG-23-July-2025](https://forum.access-hive.org.au/t/cosima-twg-meeting-minutes-2025/4067/17#:~:text=Freezing%20temperature%20consistency%20between%20mom6%20and%20cice). 

### Surface freezing and salinity constraints
At the ocean surface, we have enabled the realistic sea-ice formation and salinity. We've turned on frazil ice formation (`FRAZIL = TRUE`), which means if the ocean surface layer temperature drops below the freeziing point, the model will convert the negative heat content into frazil ice instead of allowing the water to supercool. By enabling frazil, any heat deficit below freezing in the ocean is passed to the ice component as latent heat of fusion, preventing unrealistically cold liquid water. 

We also ensure salinity never goes negative by setting `BOUND_SALINITY = True`. In coupled models, when sea ice forms or melts, large salinity fluxes occur. This switch prevents numerical issues when the top model cell might be depleted of salt by excessive ice formation. With this parameter on, salinity is clipped at a minimum value (`MIN_SALINITY = 0.0`). If the sea-ice model were to extract more salt than available, the ocean salinity will be floored at 0 and any deficit is ignored, avoiding unphysical negative salinity. In practice, this situation is rare, but it is a safety measure against extreme scenarios (eg, rapid freezing in nearly fresh water). We also set `SALINITY_UNDERFLOW = 0.0`, meaning any tiny salinity values (close to 0) are reset to exactly 0 as well.

Another parameter we adjust is `HFREEZE = 10.0`. This means the model comoputes a "melt potential" over a `10m` layer for sea-ice melt/freeze processes. If `HFREEZE >0`, the ocean will calculate how much heat is available in the top 10 meters to melt ice. 

### Sea surface forcing
The current configuration is forced with repeating atmospheric conditions and includes weak surface restoring for salinity. We use a repeat-year forcing (RYF) strategy with the JRA55-do dataset. This means the model experiences one year of normal seasonal cycle atmospheric fluxes (wind, heat, precipitation, etc) that is repeated every model year. The advantages are avoiding interannual variability while maintaining a realistic seasonal cycle, helping to equilibrate the ocean state. More details can be found in [Forcing data models](pages/forcing-data-models/).

### Surface salinity restoring
We use `RESTORE_SALINITY = True` to have sea surface salinity (`SSS`) is weakly restored to a reference field (`SALT_RESTORE_FILE = "salt_sfc_restore.nc"`), and a piston velocity (`FLUXCONST = 0.11`m/day) is given. The restoring is implemented as a virtual salt flux ( `SRESTORE_AS_SFLUX = True`) to nudge `SSS`. This approach conserves salt overall (balanced globally by subtracting the mean flux, because we set `ADJUST_NET_SRESTORE_TO_ZERO = True` to avoid altering global salinity). `MAX_DELTA_SRESTORE = 999` hence currently there’s effectively no cap on the SSS anomaly used. More discussions and decisions can be found at [issues/350](https://github.com/ACCESS-NRI/access-om3-configs/issues/350), [issues/325](https://github.com/ACCESS-NRI/access-om3-configs/issues/325), [issues/257](https://github.com/ACCESS-NRI/access-om3-configs/issues/257).

### Diagnostics and age tracer
The current configuration intrigers some passive tracers and diagnostics for analysis. For example, we enable `USE_IDEAL_AGE_TRACER = True`, which measures the time since water left the surface. This tracer is incremented by +1 year per year everywhere and reset to 0 at the surface when water is in contact with the atmosphere. It doesn’t affect dynamics but is a diagnostic to understand water mass ventilation and residence times. The cost is minimal, so it was turned on as a useful diagnostic. In the ideal_age module, we also set `DO_IDEAL_AGE = True`.

We also output diagnostics on special vertical coordinates. `NUM_DIAG_COORDS = 2` with `DIAG_COORDS = "z Z ZSTAR", "rho2 RHO2 RHO"`. This means it will produce diagnostics on two sets of vertical levels: one is `Z (depth)` and one is `RHO2`. The settings `DIAG_COORD_DEF_Z = "FILE:ocean_vgrid.nc,interfaces=zeta"` and `DIAG_COORD_DEF_RHO2 = "RFNC1:76,999.5,1020.,1034.1,3.1,1041.,0.002"` indicate how those coordinate surfaces are defined (relevant info can be found at [PR/622](https://github.com/ACCESS-NRI/access-om3-configs/pull/622)). Finally, the model writes a comprehensive parameter documentation (`DOCUMENT_FILE = "MOM_parameter_doc"` and `COMPLETE_DOCUMENTATION = True`), which is why we have this detailed list attached under `docs` folder. This ensures transparency and reproducibility and all non-default parameters are recorded.

### Vertical mixing parameterisations
#### Energetic planetary boundary layer (`ePBL`)
The current configuration handles the vertical mixing in the ocean surface boundary layer (`OSBL`) with `ePBL` scheme rather the the traditional `KPP`. The `ePBL` scheme is an energy-based 1D turbulence closure approach that integrates a boundary layer energy budget to determine mixing coefficients. It was developed by Reichl & Hallberg (2018) to improve upon `KPP` for climate simulations by including the effect of `TKE` input and wind-driven mixing in a more physcically constrainted way. Relevant discussions and decisions can be found at [issues/465](https://github.com/ACCESS-NRI/access-om3-configs/issues/465), [issues/426](https://github.com/ACCESS-NRI/access-om3-configs/issues/426), [issues/373](https://github.com/ACCESS-NRI/access-om3-configs/issues/373). 

We keep most of paramters in default as the same as [GFDL OM5 configuration](https://github.com/NOAA-GFDL/MOM6-examples/blob/3c1de3512e2200bfc10d9e5150715c9df76dbd30/ice_ocean_SIS2/Baltic_OM5_025/MOM_parameter_doc.all). We incorporate Langmuir turbulence effects - `EPBL_LANGMUIR_SCHEME = “ADDITIVE”`. This choice adds another mixing contribution due to Langmuir circulations (wave-driven mixing). Since we do not explicitly couple to a wave model in this configuration (`USE_WAVES = False`), the Langmuir effect is parameterised via a predetermined enhancement factor in `ePBL`. We also leave the Langmuir enhancement factors at their defaults (eg, `VSTAR_SURF_FAC = 1.2`, `LT_ENHANCE_EXP = –1.5`). This inclusion of wave effects is expected to reduce warm SST biases by enhancing mixing under strong winds, as found in studies of Langmuir turbulence (eg, `USE_LA_LI2016 = True` from [@li2016langmuir]). The `ePBL` approach overall provides a physically-based estimate of vertical diffusivities constrained by available `TKE`, rather than relying on prescribed profiles as in `KPP`.

For parameters tunning in `ePBL`, we have adjusted some parameters to match the [`GFDL` OM4 scheme](https://github.com/NOAA-GFDL/MOM6-examples/blob/3c1de3512e2200bfc10d9e5150715c9df76dbd30/ice_ocean_SIS2/Baltic_OM5_025/MOM_parameter_doc.all#L2247) (`EPBL_MSTAR_SCHEME = “OM4”`). We set `MSTAR_CAP = 1.25` (caps the mixing length scale factor `m` to 1.25) and adjusted coefficients: `MSTAR2_COEF1 = 0.29` and `COEF2 = 0.152`. These tweaks also inherited from [GFDL OM5 configuration](https://github.com/NOAA-GFDL/MOM6-examples/blob/3c1de3512e2200bfc10d9e5150715c9df76dbd30/ice_ocean_SIS2/Baltic_OM5_025/MOM_parameter_doc.all#L2255-L2260). We also enable `USE_MLD_ITERATION = True`, which allows `ePBL` to iteratively solve for a self-consistent mixed layer depth (`MLD`) rather than a single-pass estimate. This provides a more accurate `MLD`, especially when multiple criteria (buoyancy, shear) are at play, but at the cost of a few more iterations (`EPBL_MLD_MAX_ITS = 20`). Additionally, we set `EPBL_IS_ADDITIVE = False`, which means that the diffusivity from `ePBL` is not simply added to other sources of diffusivity, instead we let `ePBL` replace shear mixing when it is more energetic, rather than always adding on top. This avoids double counting turbulence. It is a choice that effectively transitions between schemes, for example, in weak wind conditions, shear-driven mixing might dominate, but in strong wind conditions, ePBL mixing dominates.

#### Interior shear-driven mixing
Below the surface layer, we use a parameterisation for shear-driven mixing in stratified interior. Specifically we enable the [@jackson2008parameterization] shear instability scheme (`USE_JACKSON_PARAM = True`). This scheme targets mixing in stratified shear zones. It uses a local Richardson number (`Ri`). We keep the default critical Richardson number `RINO_CRIT = 0.25` and the nondimensional shear mixing rate `SHEARMIX_RATE = 0.089`. We also set `VERTEX_SHEAR = True`, meaning the shear is computed at cell vertices (horizontally staggered grid) to better capture shear between adjacent grid cells. That is a technical detail to get more accurate shear estimates on a C-grid. The Jackson et al. (2008) parameterisation is energetically constrained hence it iteratively finds a diffusivity such that the energy extracted from the mean flow equals the energy used in mixing plus that lost to dissipation. Our settings allow up to `MAX_RINO_IT = 25` iterations for this solve (inherited from [GFDL OM5 configuration](https://github.com/NOAA-GFDL/MOM6-examples/blob/3c1de3512e2200bfc10d9e5150715c9df76dbd30/ice_ocean_SIS2/Baltic_OM5_025/MOM_parameter_doc.all#L2088)). The Jackson scheme effectively ads interior diffusivity when `Ri<0.25`, gradually reducing it as `Ri` increases beyond critical.

#### Internal tidal mixing
`INT_TIDE_DISSIPATION = True` turns on the internal tidal mixing. It activates the parameterisation of internal tidal energy dissipation. We use `INT_TIDE_PROFILE = "POLZIN_09"`, following the tidal energy from [@polzin2009abyssal] stretched exponential profile rather than the default St. Laurent exponential. We also set `READ_TIDEAMP = True` with a `tideamp.nc` file and roughness data (`H2_FILE = "bottom_roughness.nc"`). Both files were generated using updated bottom roughness calculated from [`SYNBATH`](https://agupubs.onlinelibrary.wiley.com/doi/10.1029/2021EA002069) and tidal velocities from [`TPXO10`](https://www.tpxo.net/global/tpxo10), processed via through [om3-scripts/external_tidal_generation](https://github.com/ACCESS-NRI/om3-scripts/tree/main/external_tidal_generation). This indicates the model reads spatial maps of tidal velocity amplitude and topographic roughness to inform where internal tides dissipate energy. By doing so, the vertical diffusivity can be enhanced in regions of rough bathymetry and high tidal speeds. `TKE_ITIDE_MAX = 0.1` limits the energy per area can be injected as mixing. Overall, turning on the internal tidal mixing is crucial for simulating the deep ocean stratification and circulation. 

#### Interior background mixing
For the ocean interior background mixing, we follow the approach from [GFDL OM5 configuration](https://github.com/NOAA-GFDL/MOM6-examples/blob/3c1de3512e2200bfc10d9e5150715c9df76dbd30/ice_ocean_SIS2/Baltic_OM5_025/MOM_parameter_doc.all#L2004) of using a weak constant background diapycnal diffusivity (`KD = 1.5E-05`) for diapycnal mixing. A floor `KD_MIN = 2.0e-6` is also applied, so it won’t go below 2e-6 anywhere, ensuring numerical stability. We enable `DOUBLE_DIFFUSION = True`, which enhances vertical mixing for salt-fingering. Henyey-type internal wave scaling is set through `HENYEY_IGW_BACKGROUND = True`. The parameters `HENYEY_N0_2OMEGA = 20.0` and `HENYEY_MAX_LAT = 73.0` are kept at default. At the same time, to prevent unbounded growth of shear-based or convective mixing, we cap the total diffusivity increment from TKE-based schemes with `KD_MAX = 0.1`. This is a large upper bound that would only be triggered in extremely unstable cases.

The bottom drag is quadratic with coefficient `CDRAG = 0.003`, which is a typical value from ocean observations. `BOTTOMDRAGLAW = True` with `LINEAR_DRAG = False` means a quadratic bottom drag law rather than a linear damping. The thickness of the bottom boundary layer is set to `HBBL = 10.0`.

### Horizontal viscosity and subgrid momentum mixing
In our configuration, we use a hybrid Laplacian-biharmonic viscosity scheme (`LAPLACIAN = True` - 2nd order, `BIHARMONIC = True` - 4th order) to manage unresolved subgrid momentum processes. It helps remove small-scale kinetic energy where it can not resolve it, while preserving large-scale eddy structures. Laplacian viscosity (harmonic) primarily acts on the largest resolved scales, and biharmonic viscosity targets the smaller scales. From the [MOM6 documentation](https://mom6.readthedocs.io/en/main/api/generated/modules/mom_hor_visc.html#namespacemom-hor-visc-1section-horizontal-viscosity:~:text=Laplacian%20viscosity%20coefficient), the harmonic Laplacian viscosity coefficient is computed as following,

$$
\kappa_{\text{static}} = \min\left[\max\left(\kappa_{\text{bg}}, U_\nu \Delta(x,y), \kappa_{2d}(x,y), \kappa_{\phi}(x,y)\right), \kappa_{max}(x,y)\right]
$$

where,
1. $\kappa_{\text{bg}}$ (`USE_KH_BG_2D = False`) is constant but spatially variable 2D map, also there is no constant background viscosity (`KH = 0`).
2. $U_\nu \Delta(x,y)$ ($U_\nu$ = `KH_VEL_SCALE = 0.01`) is a constant velocity scale,
3. $\kappa_{\phi}(x,y) = \kappa_\pi|sin(\phi)|^n$ (`KH_SIN_LAT = 2000.0`, `KH_PWR_OF_SINE = 4`) is a function of latitude,

The full viscosity includes the dynamic components,

$\kappa_h(x,y,t) = r(\Delta, L_d)\max\left(\kappa_{\text{static}}, \kappa_{\text{Smagorinsky}}, \kappa_{\text{Leith}}\right)$

where,
1. $r(\Delta, L_d)$ (`RESOLN_SCALED_KH = True`) is a resolution function. This will scale down the Laplacian component of viscosity in well-resolved regions.
2. $\kappa_{\text{Smagorinsky}}$ (`SMAGORINSKY_KH = False`) is from the dynamic Smagorinsky scheme,
3. $\kappa_{\text{Leith}}$ (`LEITH_KH = False`) is the Leith viscosity.

We enable `BOUND_KH = True` to locally limit the Laplacian diffusivity ensuring CFL stability. Specifically, a coefficient `Kh_Limit = 0.3 / (dt * 4.0)` is applied, taking grid spacing into account. To further improve numerical stability, we enable both `BETTER_BOUND_KH = True` and `BETTER_BOUND_AH = True`, which apply more refined constraints on Laplacian and biharmonic viscosities, respectively. We set `RES_SCALE_MEKE_VISC = False`, meaning the viscosity is not explicitly scaled by MEKE. For biharmonic viscosity, we apply a flow-dependent Smagorinsky parameterisation with no background value (AH = 0.0). The viscosity is dynamically computed based on the local strain rate by enabling `SMAGORINSKY_AH = True`, and is scaled using `SMAG_BI_CONST = 0.06` (the MOM6 default). Anisotropic viscosity is disabled via `ANISOTROPIC_VISCOSITY = False`. Finally, to maintain numerical stability, the biharmonic viscosity is locally bounded using `BOUND_AH = True`, with a coefficient limit `Ah_Limit = 0.3 / (dt * 64.0)`.

For the channel drag, a Laplacian Smagorinsky constant ([`SMAG_CONST_CHANNEL = 0.15`](https://github.com/ACCESS-NRI/MOM6/blob/569ba3126835bfcdea5e39c46eeae01938f5413c/src/parameterizations/vertical/MOM_set_viscosity.F90#L967-L969)) is used.

### References

\bibliography