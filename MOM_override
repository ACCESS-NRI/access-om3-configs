! NOTE: User made changes to this file override the settings in MOM_input
!       This provides a clear record of how your configuration differs from the standard

#override FATAL_UNUSED_PARAMS = False

! First we update numbers and files for higher res run
#override TOPO_FILE = "topog_Charrassin_open_cavity_noGL5m_new190825.nc" ! "topog_Charrassin_sea_ice_from_iceelev_no_edits_new190825.nc"
#override RESTORE_SALINITY = False !#override SALT_RESTORE_FILE = "salt_restore_interpolated_nearest.nc"

#override DT = 150 !600
#override DT_THERM = 150 ! 1200 !ideally shorten from 3600 due to adele's OBC issue in MOM6-SIS2 panan

#override NIGLOBAL = 4320
#override NJGLOBAL = 1442
#override GRID_FILE = "ocean_hgrid_cropped.nc"
#override ALE_COORDINATE_CONFIG = "FILE:ocean_vgrid_cropped.nc,interfaces=zeta" ! default = "UNIFORM"
#override TEMP_SALT_Z_INIT_FILE = "ACCESS-OM2_IC_bfilled_smoothedland.nc" ! default = "temp_salt_z.nc"
#override DIAG_COORD_DEF_Z = "FILE:ocean_vgrid_cropped.nc,interfaces=zeta" ! default = "WOA09"
#override TRIPOLAR_N = False
!#override AUTO_IO_LAYOUT_FAC = 1 ! Slows model down but it means coordinates are not NaNs

#override READ_TIDEAMP = False
#override INT_TIDE_DISSIPATION = False
#override H2_FILE = "bottom_roughness_Charrassin_nocavity_cropped.nc"
#override TIDEAMP_FILE = "tideamp_Charrassin_nocavity_cropped.nc" 

!save time for restart runs
#override SAVE_INITIAL_CONDS = False

! Add OBCs
! === module MOM_open_boundary ===
OBC_NUMBER_OF_SEGMENTS = 1
OBC_FREESLIP_VORTICITY = True
OBC_FREESLIP_STRAIN = True
!OBC_COMPUTED_VORTICITY = True
OBC_ZERO_BIHARMONIC = True

OBC_SEGMENT_001 = "J=N,I=N:0,FLATHER,ORLANSKI,NUDGED"
OBC_SEGMENT_001_VELOCITY_NUDGING_TIMESCALES = .3, 360.0 ! inflow and outflow timescales
BRUSHCUTTER_MODE = True ! read data on supergrid
OBC_SEGMENT_001_DATA = "U=file:forcing_access_yr2_8km_fill.nc(u),V=file:forcing_access_yr2_8km_fill.nc(v),SSH=file:forcing_access_yr2_8km_fill.nc(eta_t),TEMP=file:forcing_access_yr2_8km_fill.nc(pot_temp),SALT=file:forcing_access_yr2_8km_fill.nc(salt)"
!RAMP_OBCS = True

OBC_TRACER_RESERVOIR_LENGTH_SCALE_OUT = 30000
OBC_TRACER_RESERVOIR_LENGTH_SCALE_IN = 3000

! sponges
SPONGE = False


!! Some new parameters for higher resolution run
#override USE_CONTEMP_ABSSAL = False
#override THICKNESS_DIFFUSE = False
#override USE_POROUS_BARRIER = False
#override DTBT_RESET_PERIOD = 1800
#override CHECK_BAD_SURFACE_VALS = False
#override EQN_OF_STATE = "WRIGHT_FULL"
#override TFREEZE_FORM = "LINEAR"
#override DTFREEZE_DP = -7.75E-08
#override PARALLEL_RESTARTFILES = False !Check IO LAYOUT

! Diag mediator - copy MOM6-SIS2 panan stuff here
#override NUM_DIAG_COORDS = 2
#override DIAG_COORDS = "z Z ZSTAR", "rho2 RHO2 RHO"
#override DIAG_COORD_DEF_RHO2 = "FILE:diag_rho2.nc,interfaces=rho2"

#override USE_MEKE = False
#override USE_VARIABLE_MIXING = False
#override RESOLN_SCALED_KH = False
#override RESOLN_SCALED_KHTH = False
#override USE_STORED_SLOPES = False
#override KV = 1E-6
#override KV_BBL_MIN = 1E-6
#override KV_TBL_MIN = 1E-6
#override KD_MIN_TR = 1.5E-06
!#override INT_TIDE_DISSIPATION = True
#override BBL_EFFIC = 0.01
#override KD = 1.5E-05
#override KD_MIN = 2.0E-06
#override USE_JACKSON_PARAM = True
#override VERTEX_SHEAR = True
#override PRESSURE_DEPENDENT_FRAZIL = True
#override ADJUST_NET_SRESTORE_TO_ZERO = False
#override ADJUST_NET_FRESH_WATER_TO_ZERO = False
!#override FLUXCONST = 0.1667 !consider a smaller number
!! New parameters since merge
#override KHTH_USE_EBT_STRUCT = False
#override KHTH_USE_FGNV_STREAMFUNCTION = False
#override KH_SIN_LAT = 0.0 
#override KHTR = 0.0
#override USE_NEUTRAL_DIFFUSION = False
